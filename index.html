<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Entry Form</title>
</head>
<body>
    <h2>Data Entry</h2>
    <form id="dataForm">
        <label for="date">Date:</label>
        <input type="date" id="date" required><br><br>

        <label for="cattle">Cattle:</label>
        <input type="number" id="cattle" required><br><br>

        <label for="buffalo">Buffalo:</label>
        <input type="number" id="buffalo" required><br><br>

        <h3>Sheep and Goat</h3>
        <label for="dozing">Dozing:</label>
        <input type="number" id="dozing" required><br><br>

        <label for="dusting">Dusting:</label>
        <input type="number" id="dusting" required><br><br>

        <label for="treatment">Treatment:</label>
        <input type="number" id="treatment" required><br><br>

        <label for="horse">Horse:</label>
        <input type="number" id="horse" required><br><br>

        <label for="camel">Camel:</label>
        <input type="number" id="camel" required><br><br>

        <label for="other">Other:</label>
        <input type="number" id="other" required><br><br>

        <h3>Medical Treatments</h3>
        <label for="endo">Endo:</label>
        <input type="number" id="endo" required><br><br>

        <label for="ecto">Ecto:</label>
        <input type="number" id="ecto" required><br><br>

        <label for="drug">Drug Distribution:</label>
        <input type="number" id="drug" required><br><br>

        <h3>Male</h3>
        <label for="male_sc">SC:</label>
        <input type="number" id="male_sc" required><br><br>

        <label for="male_st">ST:</label>
        <input type="number" id="male_st" required><br><br>

        <label for="male_obc">OBC:</label>
        <input type="number" id="male_obc" required><br><br>

        <h3>Female</h3>
        <label for="female_sc">SC:</label>
        <input type="number" id="female_sc" required><br><br>

        <label for="female_st">ST:</label>
        <input type="number" id="female_st" required><br><br>

        <label for="female_obc">OBC:</label>
        <input type="number" id="female_obc" required><br><br>

        <label for="submittedBy">Submitted By:</label>
        <select id="submittedBy" required>
            <option value="" disabled selected>Select your number</option>
            <script>
                for (let i = 1; i <= 16; i++) {
                    document.write(`<option value="${i}">${i}</option>`);
                }
            </script>
        </select><br><br>

        <button type="submit">Submit</button>
    </form>

    <script>
        document.getElementById("dataForm").addEventListener("submit", async function (e) {
            e.preventDefault();
            const data = {
                date: document.getElementById("date").value,
                cattle: document.getElementById("cattle").value,
                buffalo: document.getElementById("buffalo").value,
                sheep_goat: {
                    dozing: document.getElementById("dozing").value,
                    dusting: document.getElementById("dusting").value,
                    treatment: document.getElementById("treatment").value
                },
                horse: document.getElementById("horse").value,
                camel: document.getElementById("camel").value,
                other: document.getElementById("other").value,
                endo: document.getElementById("endo").value,
                ecto: document.getElementById("ecto").value,
                drug_distribution: document.getElementById("drug").value,
                male: {
                    sc: document.getElementById("male_sc").value,
                    st: document.getElementById("male_st").value,
                    obc: document.getElementById("male_obc").value
                },
                female: {
                    sc: document.getElementById("female_sc").value,
                    st: document.getElementById("female_st").value,
                    obc: document.getElementById("female_obc").value
                },
                submittedBy: document.getElementById("submittedBy").value
            };

            const response = await fetch("https://df43d303-90ed-4cb7-955a-a51addaaf23c-00-2sm35ilh2plik.janeway.repl.co/submit", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data)
            });

            if (response.ok) {
                alert("Data submitted successfully!");
                document.getElementById("dataForm").reset();
            } else {
                alert("Error submitting data.");
            }
        });
    </script>
</body>
</html>
